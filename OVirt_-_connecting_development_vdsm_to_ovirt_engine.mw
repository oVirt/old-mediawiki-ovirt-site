How to configure a develoment host that should be attached to ovirt-engine.

== Disable automatic host installation ==

By default ovirt engine will try to install vdsm and configure host networking and SSL keys when adding a host. If you disable this feature, you will have to configure host networking yourself.

If you want to disable this feature, run this command:

 <nowiki>
su - postgres -c "psql engine -c \"UPDATE vdc_options set option_value = 'false' where option_name = 'InstallVds'\""</nowiki>
 
And restart oVirt service if running:
 <nowiki>service ovirt-engine restart</nowiki>

==Disabling SSL==

When automatic host installation is disabled, you also want to disable SSL on both ovirt engine and host sides, since host SSL keys are not configured. Alternativly, you can configure SSL keys manually.

=== Disable SSL in VDSM ===

* In /etc/vdsm/vdsm.conf [vars] section: ssl = false
* In /etc/libvirt/libvirtd.conf: listen_tls=0
* In /etc/libvirt/libvirtd.conf: listen_tcp = 1
* In /etc/libvirt/libvirtd.conf: auth_tcp = "none"
* In /etc/libvirt/qemu.conf: spice_tls=0

If you are changing from ssl to non-ssl or vice versa, run the following command:

Fedora:
 <nowiki>/lib/systemd/systemd-vdsmd reconfigure</nowiki>

EL6:
 <nowiki>service vdsmd reconfigure</nowiki>

After this is done, restart vdsm. If you misconfigured something, vdsm will complain, so keep an eye on the error messages :)

=== Disable SSL in ovirt engine ===

Disable SSLEnabled and UseSecureConnectionWithServers options:

 <nowiki>
su - postgres -c "psql engine -c \"UPDATE vdc_options set option_value = 'false' where option_name = 'SSLEnabled'\""
su - postgres -c "psql engine -c \"UPDATE vdc_options set option_value = 'false' where option_name = 'UseSecureConnectionWithServers'\""
</nowiki>

And restart oVirt service if running: 
 <nowiki>service ovirt-engine restart</nowiki>
