<!-- {{autolang|base=yes}} -->

<!-- The actual name of your feature page should look something like: "Your feature name". Use natural language to name the pages. -->

== IPv6 support ==

=== Summary ===
<!-- A sentence or two summarizing what this feature is and what it will do.  This information is used for the overall feature summary page for each release. -->

This feature enable to connect to vdsm and ovirt-engine via IPv6 protocol.

=== Owner ===
* Name: [[User:Psebek| Petr Å ebek]]
* Email: <psebek@redhat.com>
* IRC: psebek at #ovirt (irc.oftc.net)

<!-- Include you email address that you can be reached should people want to contact you about helping with your feature, status is requested, or  technical issues need to be resolved-->

=== Current status ===
* Status: Design
* Last updated: {{CURRENTMONTHNAME}} {{CURRENTDAY}}, {{CURRENTYEAR}}<!--This is markup for current date, do not change-->

=== Detailed Description ===
<!-- Expand on the summary, if appropriate.  A couple sentences suffices to explain the goal, but the more details you can provide the better. -->
With growing importance of protocol IPv6 there is need to provide this functionality in Ovirt.  This feature enable IPv6 at the Vdsm and Ovirt-engine side, so the users won't need to use IPv4 anymore. 


=== Changes in code===
==== Vdsm ====
* New class  'netmodels.IPv6'. Similar like netmodels.IPv4, for address validation and representation
** This brings changes in class netmodels.IpConfig, configNetwork.objectivizeNetwork, 

==== Ovirt-Engine GUI====
In the GUI of engine there will be need to change this items:
* ipAddressValidation - add recognition of IPv6 address
* hosAddressValidation - same as ip

Fields that can contain IPv6 address:
* Host address in adding new host
* network address in Setup Host Network -> edit network -> boot protocol: static :
** IP
** subnet mask - in IPv4 subnet mask has form of doted decimal number, same as IPv4 address. In IPv6 subnet is made of single number from 0-128 that depicts the number of bits from start that belongs to site. Mostly here will be number 64.
** gateway - regular IPv6 address
* address of nics in network interfaces - this should be just basic content of cell of table, so arbitrary string
* add/import storage address

==== Pending patches ====
On the Vdsm side there are this pending patches http://gerrit.ovirt.org/#/q/status:open+project:vdsm+branch:master+topic:ipv6_support,n,z .

 
=== Benefit to oVirt ===
<!-- What is the benefit to the oVirt project?  If this is a major capability update, what has changed?  If this is a new feature, what capabilities does it bring? Why will oVirt become a better distribution or project because of this feature?-->

By implementing this feature oVirt will be prepared for users that are using IPv6 protocol. 

=== Dependencies / Related Features ===
<!-- What other packages depend on this package?  Are there changes outside the developers' control on which completion of this feature depends?  In other words, completion of another feature owned by someone else and might cause you to not be able to finish on time or that you would need to coordinate? Other Features that might get affected by this feature? -->



=== Documentation / External references ===
<!-- Is there upstream documentation on this feature, or notes you have written yourself?  Link to that material here so other interested developers can get involved. Links to RFEs. -->
Is there upstream documentation on this feature, or notes you have written yourself?  Link to that material here so other interested developers can get involved. Links to RFEs.

=== Testing ===
==== Vdsm ====
Currently there is need to specify management_ip in config file to be in IPv6 format, so after build and installation of Vdsm update file /etc/vdsm/vdsm.conf, and change management_ip under address section to:
  management_ip = ::

After start of vdsmd service there should be record in netstat like this:
  $ netstat -tanp | grep 54321
   tcp6 0 0 :::54321 :::* LISTEN 21545/python

Now you should be able to control vdsmd with vdsClient using IPv6 addresses:
  vdsClient -s [::1] getVdsCaps
  vdsClient -s [::1]:54321 getVdsCaps
  vdsClient -s localhost6 getVdsCaps
  vdsClient -s localhost6:54321 getVdsCaps
  vdsClient -s ['IPv6 link-local addr'%ovirtmgmt] getVdsCaps
  vdsClient -s ['IPv6 link-local addr'%ovirtmgmt]:54321 getVdsCaps

Where 'IPv6 link-local addr' is address of IPv6 link local address of bridge ovirtmgmt (e.g. [fe80::5054:ff:fe05:25f3%ovirtmgmt]). Each of this command should work as in normal manner.
=== Comments and Discussion ===

This below adds a link to the "discussion" tab associated with your page.  This provides the ability to have ongoing comments or conversation without bogging down the main feature page

* Refer to [[Talk:IPv6 support]]  <!-- This adds a link to the "discussion" tab associated with your page.  This provides the ability to have ongoing comments or conversation without bogging down the main feature page -->

[[Category:Feature]]
