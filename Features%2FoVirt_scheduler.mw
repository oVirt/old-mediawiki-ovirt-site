== oVirt Scheduler - Separating Scheduling Logic [WIP] ==
=== Summary ===
* Extracting and separating current scheduling logic into a separate package/name-space.
* First phase/step in the road to exposing public user-level API.
=== Owner ===
* Name: [[User:gchaplik| Gilad Chaplik]]
* Email: <gchaplik@redhat.com>

=== Current status ===
* oVirt-3.3
* Last updated: {{CURRENTMONTHNAME}} {{CURRENTDAY}}, {{CURRENTYEAR}}<!--This is markup for current date, do not change-->

=== Detailed Description ===
We want to introduce a new scheduler that will expose user-level API, to achieve that goal, there ought to be preliminary work. Current scheduling logic is embedded within Engine's Business Logic Layer (bll), without any scope, boundaries or centralized logic - scattered around 'bll' commands. In this phase we will clean-up, re-factor and extract scheduling related logic into a separate package, add unit tests and re-factor the code to be testable and decide on scheduler scope.

=== Benefit to oVirt ===
Scheduling package is useful for numerous reasons: 
# Easily identify flows and relations between Engine and Scheduler (private API).
# Eliminate duplicate code.
# Allow future separation of scheduling module to a different container.
# Concentrate Scheduling logic into a single package.
# Scaling out ; allowing multiple instances of scheduling module.

=== Components ===
==== VDSM ====
none.
====Engine====
# Clean-up Run/MigrateVmCommand, these classes call and contains vdsSelector; VdsSelector.java is the logic that serve Run/MigrateVmCommand, and selects a host to run according to policy and other VM/Host parameters.
# Move Scheduling classes to Scheduling package (VdsSelector, LoadBalancer, Policies...)
# Clean-up VdsSelector class.
====User Interface====
none.
