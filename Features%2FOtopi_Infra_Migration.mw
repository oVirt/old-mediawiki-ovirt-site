<!-- {{autolang|base=yes}} -->

== Otopi Infra Migration ==

=== Summary ===
A complete re-write of engine-setup, engine-cleanup, engine-upgrade and AIO plugin using otopi.

=== Owner ===
* Name: [[User:Alonbl|Alon Bar-Lev]]
* Email: <alonbl@redhat.com>

* Name: [[User:Alourie| Alex Lourie]]
* Email: <alourie@redhat.com>

* Name: [[User:SandroBonazzola| Sandro Bonazzola]]
* Email: <sbonazzo@redhat.com>

=== Current status ===

* Last updated: {{CURRENTMONTHNAME}} {{CURRENTDAY}}, {{CURRENTYEAR}}<!--This is markup for current date, do not change-->


{| class="wikitable" border="1"
|-
! Feature
! existing implementation
! otopi implementation
|-
| Set Max Shared Memory
| Done
| Done
|-
| Check for supported Java VM
| Done
| Done
|-
| CA Generation
| Done
| Done
|-
| Extract CA fingerprint
| Done
| Done
|-
| Extract non password key for log collector
| Done
| Done
|-
| Extract non password key for Apache
| Done
| Done
|-
| Extract SSH fingerprint
| Done
| Done
|-
| Configure engine service - database
| Done
| Done
|-
| Configure engine service - Java
| Done
| Done
|-
| Configure engine service - Protocols
| Done
| Done
|-
| Configure .pgpass file
| Done
| Done
|-
| Encrypt DB Password
| Done
| Done
|-
| Push the encrypted password into the local configuration file
| Done
| Done
|-
| Start / Stop rhevm-etl service when needed
| Done
| Not implemented
|-
| Start / Stop rhevm-notifierd service when needed
| Done
| Not implemented
|-
| Upgrade engine database if already exist
| Done
| Done
|-
| Install engine database if doesn't exist
| Done
| Done
|-
| Set Application Mode (Both, Virt, Gluster)
| Done
| Done
|-
| Update VDC Options
| Done
| Done
|-
| Update default data center storage type
| Done
| Not implemented
|-
|
|
|
|}

=== Detailed Description ===
TBD


=== Benefit to oVirt ===
* Lower cost of maintenance. 
* Use of otopi API.
* More ...


=== Dependencies / Related Features ===
<!-- What other packages depend on this package?  Are there changes outside the developers' control on which completion of this feature depends?  In other words, completion of another feature owned by someone else and might cause you to not be able to finish on time or that you would need to coordinate? Other Features that might get affected by this feature? -->
TBD

=== Documentation / External references ===
* [[:File:ovirt-host-deploy 3.2.pdf|Ovirt Host Deploy Presentation]]
* [https://bugzilla.redhat.com/show_bug.cgi?id=911191 Bug 911191 - Migrate ovirt-engine-setup and AIO plugin to otopi]

=== Comments and Discussion ===
* Refer to [[Talk:Features/Otopi_Infra_Migration]] 

[[Category:Feature]]
[[Category:Template]]
