{{autolang|base=yes}}

<!-- The actual name of your feature page should look something like: Features/YourFeatureName.  This keeps all features in the same namespace -->
= Stable Device Addresses =

== Summary ==
<!-- A sentence or two summarizing what this feature is and what it will do.  This information is used for the overall feature summary page for each release. -->
Allow devices in guest virtual machines to retain the same device address allocations as other devices are added or removed from the guest configuration. This is particularly important for Windows guests in order to prevent warnings or reactivation when device addresses change.<br>
In the term Device we include PCI, VirtIO Serial, SCSI, IDE, CCID and actually anything libvirt supports. 

== Owner ==
<!--This should link to your home wiki page so we know who you are-->
* Feature owner: [[User:emesika| Eli Mesika]]
:* GUI Component owner: Not Relevant
:* REST Component owner: Not Relevant
:* Engine Component owner: [[User:emesika| Eli Mesika]]
:* QA Owner: [[User:ykaul| Yaniv Kaul]] 

<!-- Include you email address that you can be reached should people want to contact you about helping with your feature, status is requested, or  technical issues need to be resolved-->
* Email: emesika@redhat.com

== Current status ==
* Target Release: 3.1
* Status: Design Stage
* Last updated date: Wed December 28 2011


== Detailed Description ==
<!-- Provide the details of the feature. What is it going to include. See the sections below. -->
<!-- New entities and changes in existing entities. -->

=== Entity Description ===

==== Generic Device ====
<!-- New entities and changes in existing entities. -->
A new BE GenericDevice that represents video/sound/ant-other-device <br>
GenericDevice will have the following properties <br>
type         - The device type (for example 'sound')<br>
device       - The device (for example 'ich6')<br>
address      - A string reprenting all address details (for example  "type='pci' domain='0x0000' bus='0x00' slot='0x0c' function='0x0'")<br>
specparams   - Any device specific parameters (for example memory allocation per monitor in video device)<br>


=== CRUD ===
<!-- Describe the create/read/update/delete operations on the entities, and what each operation should do. -->
New table generic_device : 
  device_id              -- Unique identifier of the generic device
  device                 -- The device type (for example : sound, video etc.)
  vm_id                  -- The VM id (FK of vm_static.vm_id)
  device_specparams      -- The device special parameters, for example ('display': 'vnc')
  device_address         -- The device address as a string

* Adding CRUD SPs for generic_device table.

Adding hash column to vm_dynamic:
  hash                -- holds the md5 like encryption indicating a change 

* Update relevant Views & SPs to include the hash column

Adding address and boot_order to disk_vm_map and vm_interface.<br>
This should be done in the mapping table in order to support the Shared Disk feature when a disk can be shared by multiple VMs:
  address             -- The interface address string
  boot_order          -- The device boot order

* Update relevant Views & SPs to include the address & boot_order columns

=== User Experience ===
<!-- Describe user experience related issues. For example: We need a wizard for ...., the behaviour is different in the UI because ....., etc. -->
This feature is not exposed to the GUI in 3.1

<!-- GUI mockups should also be added here to make it more clear -->
=== Installation/Upgrade ===
<!-- Describe how the feature will effect new installation or existing one. -->

=== User work-flows ===
<!-- Describe the high-level work-flows relevant to this feature. -->


=== Enforcement ===


== Dependencies / Related Features and Projects ==
<!-- What other packages (RPMs) depend on this package?  Are there changes outside the developers' control on which completion of this feature depends?  In other words, completion of another 
Affected oVirt projects:
* Engine-core

== Documentation / External references ==
<!-- Is there upstream documentation on this feature, or notes you have written yourself?  Link to that material here so other interested developers can get involved. Links to RFEs. -->
http://www.ovirt.org/wiki/Features/Design/StableDeviceAddresses

== Open Issues ==
<!-- Issues that we haven't decided how to take care of yet. These are issues that we need to resolve and change this document accordingly. -->


[[Category: Feature]]
